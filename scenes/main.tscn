[gd_scene load_steps=11 format=3 uid="uid://b3n6v578hwlq6"]

[ext_resource type="Script" uid="uid://dq021bb8uqang" path="res://scripts/main.gd" id="1_7mycd"]
[ext_resource type="PackedScene" uid="uid://dfh6uroj1b2pg" path="res://scenes/robot.tscn" id="1_ig7tw"]
[ext_resource type="PackedScene" uid="uid://bkh1u8vxdsarv" path="res://scenes/camera_2d.tscn" id="2_tefeu"]
[ext_resource type="Script" uid="uid://bqpaiejplbt53" path="res://scripts/path_finder.gd" id="3_1bvp3"]
[ext_resource type="PackedScene" uid="uid://buwaywoj6xl0m" path="res://scenes/finish.tscn" id="3_tbgi4"]
[ext_resource type="PackedScene" uid="uid://cq0wul4o0ib2j" path="res://scenes/menu.tscn" id="6_tefeu"]
[ext_resource type="Script" uid="uid://b7qx56jmm3cla" path="res://scripts/polygon_drawer.gd" id="7_o6xl0"]
[ext_resource type="PackedScene" uid="uid://dbqwds83c68fk" path="res://scenes/obstacle.tscn" id="8_tipki"]
[ext_resource type="Script" uid="uid://x6ljsq8otpkq" path="res://scripts/Global.gd" id="9_85g3d"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_tipki"]
size = Vector2(1086, 493)

[node name="Main" type="Node2D"]
script = ExtResource("1_7mycd")

[node name="Camera2D" parent="." instance=ExtResource("2_tefeu")]

[node name="Polygon2D" type="Polygon2D" parent="Camera2D"]
z_index = 5
position = Vector2(-90.36458, 354.22214)
scale = Vector2(3.6145835, 4.919753)
color = Color(0.27752772, 0.27752772, 0.27752772, 1)
polygon = PackedVector2Array(-551, 252, 466, 252, 601, 252, 601, -396, 175.22478, -114.4818, 175.22478, -14.27351, -125.22478, -14.27351, -125.22478, -114.4818, 175.22478, -114.4818, 600.99994, -396, -551, -396)

[node name="Robot" parent="." instance=ExtResource("1_ig7tw")]
unique_name_in_owner = true
z_index = 7
position = Vector2(-498, 258)

[node name="Finish" parent="." instance=ExtResource("3_tbgi4")]
unique_name_in_owner = true
z_index = 6
position = Vector2(488, -178)

[node name="PathFinder" type="Node2D" parent="."]
script = ExtResource("3_1bvp3")

[node name="Menu" parent="." instance=ExtResource("6_tefeu")]
z_index = 10

[node name="PolygonDrawer" type="Node2D" parent="."]
position = Vector2(1, 2)
script = ExtResource("7_o6xl0")
obstacle_scene = ExtResource("8_tipki")

[node name="PreviewLine" type="Line2D" parent="PolygonDrawer"]
points = PackedVector2Array(-240, -35)
width = 2.0

[node name="DrawingArea" type="Area2D" parent="PolygonDrawer"]
z_index = -1
position = Vector2(-534, -201)

[node name="CollisionShape2D" type="CollisionShape2D" parent="PolygonDrawer/DrawingArea"]
position = Vector2(533, 236.5)
shape = SubResource("RectangleShape2D_tipki")

[node name="Polygon2D" type="Polygon2D" parent="PolygonDrawer/DrawingArea"]
unique_name_in_owner = true
color = Color(0.51718444, 0.5171845, 0.51718444, 1)
polygon = PackedVector2Array(-10, -10, 1076, -10, 1076, 483, -10, 483)

[node name="Obstacles" type="Node2D" parent="."]
unique_name_in_owner = true

[node name="Obstacle4" parent="Obstacles" groups=["border"] instance=ExtResource("8_tipki")]
position = Vector2(-543, 284)

[node name="Obstacle7" parent="Obstacles" groups=["border"] instance=ExtResource("8_tipki")]
position = Vector2(-545, -208)

[node name="Obstacle5" parent="Obstacles" groups=["border"] instance=ExtResource("8_tipki")]
position = Vector2(-542, 308)
rotation = -1.5707964

[node name="Obstacle6" parent="Obstacles" groups=["border"] instance=ExtResource("8_tipki")]
position = Vector2(543, 357)
rotation = -1.5707964

[node name="Node" type="Node" parent="."]
script = ExtResource("9_85g3d")

[connection signal="path_ready" from="PathFinder" to="Robot" method="_on_path_finder_path_ready"]
